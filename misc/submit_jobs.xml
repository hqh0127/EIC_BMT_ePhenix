<Request>
  <Email email="hqh0127@gmail.com" request="true" job="true"/>
  <Project name="clas12"/>
  <Track name="debug"/>
  <DiskSpace space="2" unit="GB"></DiskSpace>
  <Memory space="2" unit="GB"></Memory>

  <Input src="/group/clas12/packages/setup.csh" dest="setup.csh"/>
  <Input src="/work/clas12/users/qihuang/EIC_MM_momres/misc/script_run_PrintRes.sh" dest="script_run_PrintRes.sh"/>
  <Input src="/work/clas12/users/qihuang/EIC_MM_momres/misc/PrintRes.cpp" dest="PrintRes.cpp"/>
  
  <List name="detector">
    MM_6_3x2_1D MM_6_3x2_2D MM_6_eq_1D MM_6_eq_2D TPC
  </List>
  <List name="eta">
    0 1 3
  </List>
  <List name="pt">
    1 2 3 4 5 6 7 8 9 10 20 30 40 50
  </List>

  <ForEach list="detector">
    <ForEach list="eta">
      <ForEach list="pt">
        <Job>
          <Name name="momres_${detector}_eta${eta}_${pt}"/>
          <Command><![CDATA[
            source setup.csh
            #source /group/clas12/packages/setup.sh
            module available
            module load singularity
            echo $PWD
            setenv WORK $PWD
            cd /home/qihuang
            singularity exec -B /cvmfs:/cvmfs /cvmfs/eic.opensciencegrid.org/singularity/rhic_sl7_ext.simg /bin/sh $WORK/script_run_PrintRes.sh ${detector} ${pt} ${eta}
            cd $WORK
            ]]></Command>
          <Output src="output.log" dest="/work/clas12/users/qihuang/EIC_MM_momres/log/log_${detector}_eta${eta}_${pt}.log"/>
          <Stdout dest="/work/clas12/users/qihuang/EIC_MM_momres/log/log_${detector}_eta${eta}_${pt}.stdout"/>
          <Stderr dest="/work/clas12/users/qihuang/EIC_MM_momres/log/log_${detector}_eta${eta}_${pt}.stderr"/>
        </Job>
      </ForEach>
    </ForEach>
  </ForEach>

</Request>
<!-- vim: set expandtab shiftwidth=2 tabstop=2: -->
